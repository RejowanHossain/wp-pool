function TyperSetup(){typers={},elements=document.getElementsByClassName("typer");for(var b,a=0;b=elements[a++];)typers[b.id]=new Typer(b);elements=document.getElementsByClassName("typer-stop");for(var b,a=0;b=elements[a++];){var c=typers[b.dataset.owner];b.onclick=function(){c.stop()}}elements=document.getElementsByClassName("typer-start");for(var b,a=0;b=elements[a++];){var c=typers[b.dataset.owner];b.onclick=function(){c.start()}}elements2=document.getElementsByClassName("cursor");for(var b,a=0;b=elements2[a++];){var d=new Cursor(b);d.owner.cursor=d,console.log(d.owner.cursor)}}var Typer=function(a){console.log("constructor called"),this.element=a;var b=a.dataset.delim||",",c=a.dataset.words||"override these,sample typing";this.words=c.split(b).filter(function(a){return a}),this.delay=a.dataset.delay||200,this.deleteDelay=a.dataset.deleteDelay||800,this.progress={word:0,char:0,building:!0,atWordEnd:!1},this.typing=!0;var d=a.dataset.colors||"";this.colors=d.split(","),this.element.style.color=this.colors[0],this.colorIndex=0,this.doTyping()};Typer.prototype.start=function(){this.typing||(this.typing=!0,this.doTyping())},Typer.prototype.stop=function(){this.typing=!1},Typer.prototype.doTyping=function(){var a=this.element,b=this.progress,c=b.word,d=b.char,e=this.words[c][d];if(b.atWordEnd=!1,this.cursor){this.cursor.element.style.opacity="1",this.cursor.on=!0,clearInterval(this.cursor.interval);var f=this.cursor;this.cursor.interval=setInterval(function(){f.updateBlinkState()},400)}b.building?(a.innerHTML+=e,b.char+=1,b.char==this.words[c].length&&(b.building=!1,b.atWordEnd=!0)):(a.innerHTML=a.innerHTML.slice(0,-1),this.element.innerHTML||(b.building=!0,b.word=(b.word+1)%this.words.length,b.char=0,this.colorIndex=(this.colorIndex+1)%this.colors.length,this.element.style.color=this.colors[this.colorIndex]));var g=this;setTimeout(function(){g.typing&&g.doTyping()},b.atWordEnd?this.deleteDelay:this.delay)};var Cursor=function(a){this.element=a,this.cursorDisplay=a.dataset.cursorDisplay||"|",this.owner=typers[a.dataset.owner]||"",a.innerHTML=this.cursorDisplay,this.on=!0,a.style.transition="all 0.1s";var b=this;this.interval=setInterval(function(){b.updateBlinkState()},400)};Cursor.prototype.updateBlinkState=function(){this.on?(this.element.style.opacity="0",this.on=!1):(this.element.style.opacity="1",this.on=!0)},TyperSetup();